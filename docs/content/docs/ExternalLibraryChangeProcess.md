---
title: Соглашения по работе с внешними библиотеками
type: docs
---

# Соглашения по работе с внешними библиотеками

{{< hint warning>}}
Описание устарело.\
Нужно пересмотреть и перенести на страницу про работу с зависимостями.
{{< /hint >}}

- Не нужно использовать без необходимости внешние библиотеки - ради абзаца кода нет смысла утяжелять проект
- Не стоит использовать библиотеки сомнительного качества: 

    - С низким рейтингом
    - Плохо покрытые тестами
    - Давно не обновляемые
    - Код в которых заведомо низкого качества и т.п.

Наличие или отсутствие каких-либо из этих свойств не является определяющим при выборе библиотеки. 
Необходимо руководствоваться требованиями разумности и здравого смысла. 

- Перед внедрением библиотеки обсуди с коллегами целесообразность. 
Обрати внимание на качество библиотеки и ее аналогов: завязка на некачественную библиотеку может стать дорогой в поддержке.

## Best practices

Хотим использовать актуальные версии зависимостей.\
Выделили ряд соглашений, чтобы не сломать релиз и упростить обновления:

- Не обновлять много зависимостей в одном ПР. 
Так повышается скорость локализации некорректно работающей библиотеки в случае обнаружения проблем с приложением. 
Исключения - семейства сильно связанных библиотек: RxJava и т.п.
- Обновлять версию библиотеки желательно в начале-середине цикла разработки, а не перед стабилизацией/подготовке к регрессу
- Не использовать нестабильные версии библиотек (snapshot и тп)
- Обновлять легкие библиотеки или библиотеки, некорректная работа которых будет заметна сразу (dagger2) рекомендуется на версию, 
которая является набором багфиксов 
- Не рекомендуется обновлять легкую библиотеку на релиз, в котором есть фичи - это источник потенциально нестабильного кода. 
Упрощая - библиотеки, версия которых заканчивается на 0 (1.2.0) не стоит интегрировать без определенной надобности - 
лучше подождать начала следующего цикла разработки
- Тяжелые библиотеки (Google Play Services, Support Library) нельзя обновлять перед регрессом/стабилизацией. 
Исключения возможны только в случае, если в версии библиотеки вносятся фиксы, которые решают проблемы текущей подготавливаемой версии. 
Но и в этом случае не рекомендуется ставить версию библиотеки, которая не является набором багфиксов. 
Такие библиотеки в конце цикла разработки могут версионироваться только по консенсусному согласию с коллегами о необходимости интеграции конкретной версии
