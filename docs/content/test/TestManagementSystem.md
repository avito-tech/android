---
title: Test Management System
type: docs
---

# Test Management System (TMS)

В Авито используется собственная TMS, которой нет в open-source.

[Внутренняя документация](http://links.k.avito.ru/h)

## Метаданные

`@FeatureId(IntArray)` - указать принадлежность к глобальному дереву фич приложения
`@TagId(IntArray)` - принадлежность к облаку тегов теста (у каждой команды свое)

-- deprecated --

`@CaseId(Int)` - id теста в TMS, не актуально после введения `test case in code`
`@Features(vararg String)` - строковое представление фич, не используется в синхронизации 

## Kind

Для того чтобы визуализировать тестовую пирамиду, указывается тип см. `com.avito.report.model.Kind`

## Test case in code

Правда о тест кейсе исторически хранилась в TMS. \
Поддерживать актуальной информацию сразу в двух местах не самое достойное занятие, а увеличение кол-ва автоматизированных
кейсов остро поставило вопрос о стоимости этого занятия.

Чтобы упростить поддержку, появилась возможность держать источник правды в коде, синхронизируя всю информацию в TMS.

### Как синхронизировать свой тест с TMS?

Чтобы это сделать, тесту нужно проставить аннотацию `@ExternalId(UUID)`, где UUID - сгенерированный на клиенте случайный UUID.

{{< hint info>}}
С возможными коллизиями пока никак не боремся
{{< /hint >}}

### F.A.Q.

Q: Когда происходит синхронизация
A: После попадания кода в ветку develop

Q: Как выглядит такие тесты в TMS
A: Становятся read-only

### Stubs: tests without implementation

Если тестами хочется управлять из кода уже сейчас, а их написание отложить, то можно просто создать стабы. \
Стабы это тесты со всей нужной информацией (аннотации, шаги), но не выполняющие никаких действий и проверок.

Чтобы на уровне TMS отличать автоматизированные тесты, от стабов, добавлены специальные типы с приставкой `-stub`
(см. `com.avito.report.model.Kind`)

Тип `manual` - специально для указания ручных тестов, которые не планируется автоматизировать,
но хочется держать рядом с автотестами в коде.

#### Stubs generation

> TODO вынести в opensource для демонстрации

Для упрощения переноса в проекте есть модуль `:test-generator`, который по указанию списка id тесткейсов генерирует код тестов-стабов.
