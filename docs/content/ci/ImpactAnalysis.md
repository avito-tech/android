---
title: Code review
type: docs
---

# Impact analysis

Импакт анализ находит измененные файлы и запускает минимально возможный набор проверок. 
Это всегда баланс между скоростью проверок и их полнотой.

Описание подхода: [The Rise of Test Impact Analysis](https://martinfowler.com/articles/rise-test-impact-analysis.html)

## UI тесты

Обзор реализации для автотестов: [Android CI Impact analysis](https://youtu.be/EBO2S9qcp0s?t=6948).

Импакт анализу нужна помощь в привязке экрана к модулю. 
Для этого проставляем Screen.rootId.

## Ограничения

В импакт анализе есть два типа ошибок:

- Не запустили, то что было задето. 
- Запустили больше, чем было задето (fallback).   
Отдаем этому варианту предпочтение.

Известные сценарии fallback'ов:

- Точность до уровня теста: если задет класс, запустим все его тесты.
- Точность до уровня модуля: если задет модуль, запустим все тесты связанные с package этого модуля.
- Запустим все тесты связанные с Screen, если не можем найти его package:
    - Screen не соответствует ни одному пакету
    - Screen соответствует нескольким пакетам

